<?php if( $music->songData->src == 'radio' && $music->stream_exist === false ) {?>
	<div class="modal fade" id="stream_not_found" role="dialog" aria-labelledby="stream_not_found" aria-hidden="true" data-id="0">
		<div class="modal-dialog mat_box" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">{{LANG Warning}}</h5>
				</div>
				<div class="modal-body">
					<p>{{LANG Stream url not found.}}</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-mat btn-default" data-dismiss="modal">{{LANG Close}}</button>
				</div>
			</div>
		</div>
	</div>
	<script>
		jQuery(document).ready(function($) {
			$('#stream_not_found').modal('show');
		});
	</script>
<?php }?>
<?php if( $music->songData->src == 'radio' ) {?>
<?php } else { ?>
<style>
header .opts_head_acc > .btn, header .head_user .opts_account > .btn, header .head_user .notis > .btn, header .chaticon > .btn {background-color: #080808;box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);}
.sfy_plylist_hdr:before {background-image: url({{t_thumbnail}});}
</style>
<?php } ?>
<div class="ma_page_content sfy_pc_padd">
	<div class="ma_pc_inner">
		<?php if( $music->songData->src == 'radio' ) {?>
			<?php echo loadPage('sidebar/top-header')?>
		<?php } else { ?>
			<button class="btn btn-mat btn-go-back" onclick="window.history.back();"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path fill="currentColor" d="M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42-.39-.39-1.02-.39-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"/></svg></button>
		<?php } ?>
		<?php if( $music->songData->src == 'radio' ) {?>
			<div class="content sfy_radio_cont">
				<div class="valign sfy_radio_hdr">
					<div class="valign">
						<div class="avatar"><img src="{{t_thumbnail}}"></div>
						<div class="sfy_plist_info">
							<span class="al_artist dropdown">
								<a href="javascript:void(0);" data-display="static" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{USER name_v}}</a>
								<ul class="dropdown-menu">
									<div class="sfy_song_pblshr">
										<div class="avatar">
											<a href="{{USER url}}" data-load="{{USER username}}"><img src="{{USER avatar}}" alt="User Avatar"></a>
										</div>
										<h4><a href="{{USER url}}" data-load="{{USER username}}">{{USER name_v}}</a> <?php if ($music->config->go_pro == 'on') { ?><?php if ($music->songData->publisher->is_pro == 1) { ?><span title="{{LANG PRO Memeber}}">PRO</span><?php } ?><?php } ?></h4>
										<p>{{COUNT_USER_FOLLOWERS}} {{LANG Followers}}</p>
										<p>{{COUNT_USER_SONGS}} {{LANG Tracks}}</p>
										<?php if ($music->songData->owner == false && IS_LOGGED) {?>
										<?php if (!isFollowing($music->songData->publisher->id)) { ?>
											<button class="btn btn-primary btn-mat btn-mat-raised" id="follow-user" data-user-id="{{USER id}}">{{LANG Follow}}</button>
										<?php } else { ?>
											<button class="btn btn-success btn-mat btn-mat-raised" id="unfollow-user" data-user-id="{{USER id}}">{{LANG Following}}</button>
										<?php } ?>
										<?php } ?>
									</div>
								</ul>
							</span>
							<span>â€¢</span>
							<span class="al_artist">{{LANG Published}} <span class="ajax-time" title="{{ts_time}}">{{t_time}}</span> {{LANG in}} <a href="{{LINK explore-genres/<?php echo $music->songData->category_id;?>}}" data-load="explore-genres/<?php echo $music->songData->category_id;?>">{{category_name}}</a><?php if (!empty($music->albumData)) { ?>, {{LANG in album:}} <a href="{{LINK album/<?php echo $music->albumData->album_id;?>}}" data-load="album/<?php echo $music->albumData->album_id;?>"><?php echo $music->albumData->title;?></a><?php } ?></span>
							<h2 class="al_name">{{t_title}}</h2>
						</div>
					</div>
					<div class="ss_track_play_pause" data_is_ad="0">
						<div class="btn btn-primary btn-mat btn-mat-raised play_btn" onclick="playSong('{{t_audio_id}}','<?php echo($music->audio_ad_id) ?>');$('.spectrograph_prnt').removeClass('hide');"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path fill="currentColor" d="M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z"></path></svg></div>
						<div class="btn btn-primary btn-mat btn-mat-raised pause_btn ovrflw_visible" onclick="Amplitude.pause();$('body').removeClass('player_running');$('.spectrograph_prnt').addClass('hide');"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path fill="currentColor" d="M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z"></path></svg></div>
						<span>{{COUNT_VIEWS}}</span>
					</div>
				</div>
				<div class="valign sfy_radio_specto">
					<input type="hidden" id="audio_ad_id" value="<?php echo($music->audio_ad_id) ?>">
					<div class="valign spectrograph_prnt hide">
						<div class="spectrograph equalizer"><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div></div>
						<div class="spectrograph equalizer"><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div></div>
						<div class="spectrograph equalizer"><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div></div>
						<div class="spectrograph equalizer"><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div></div>
						<div class="spectrograph equalizer"><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div></div>
						<div class="spectrograph equalizer"><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div></div>
						<div class="spectrograph equalizer"><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div></div>
						<div class="spectrograph equalizer"><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div><div class="spectrograph__bar"></div></div>
					</div>
				</div>
				<div class="ss_actions sfy_song_actns sfy_radio_actions">
					<div class="valign ss_actions_innr">
						<?php echo getLikeButton($music->songData->id, 'like-default'); ?>
						<?php echo getDisLikeButton($music->songData->id, 'dislike-default'); ?>
						<button class="ss_action_item" onclick="getShareModal('{{t_id}}', $(this));"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M10 3v2H5v14h14v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h6zm7.707 4.707L12 13.414 10.586 12l5.707-5.707L13 3h8v8l-3.293-3.293z"></path></svg> {{LANG Share}}</button>
						<?php if($music->config->artist_sell == 'on' && $music->config->who_can_download == 'pro'){ ?>
							<?php if ($music->isPurchased === false && $music->songData->owner === false && $music->songData->price > 0 && IS_LOGGED === true) { ?>
								<button class="ss_action_item btn-success" onclick="purchaseTrack('{{t_audio_id}}', $(this))" data-title="{{t_title}}" data-price="{{t_price}}" title="{{LANG Purchase}}"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M20,8H4V6H20M20,18H4V12H20M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z" /></svg> {{CONFIG currency_symbol}}{{t_price}}</button>
							<?php } else if ($music->songData->price > 0 && $music->can_download == false){ ?>
								<span>{{CONFIG currency_symbol}}{{t_price}}</span>
							<?php } ?>
						<?php } ?>
						<span class="dropdown">
							<div class="ss_action_item" data-display="static" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" /></svg> {{LANG More}}</div>
							<ul class="dropdown-menu dropdown-menu-right">
								<?php if ($music->songData->owner == true || IsAdmin()) { ?>
									<li><a href="{{LINK edit-track/{{t_audio_id}}}}" data-load="edit-track/{{t_audio_id}}">{{LANG Edit Info}}</a></li>
									<li><a href="javascript:void(0)" onclick="$('#delete-song').attr('data-id', '{{t_id}}')" data-toggle="modal" data-target="#delete-song">{{LANG Delete Track}}</a></li>
								<?php } else if (IS_LOGGED == true) { ?>
									<li><?php echo getTrackReportButton(['user_id' => $music->user->id,'track_id' => $data['t_id']]); ?></li>
									<li><a href="javascript:void(0)" onclick="$('#song-copyright-id').val('{{t_id}}');"  data-toggle="modal" data-target="#create_copyright_box">{{LANG Report Copyright}}</a></li>
								<?php } ?>
								<?php if ($music->songData->owner == true || IsAdmin()) { ?>
									<li><a href="{{LINK track-statistics/{{t_audio_id}}/today}}" data-load="track-statistics/{{t_audio_id}}/today">{{LANG Statistics}}</a></li>
								<?php } ?>
							</ul>
						</span>
					</div>
				</div>
			</div>
		<?php } else { ?>
			<div class="sfy_plylist_hdr sfy_song_hdr" id="sfy_hdr_rgb">
				<div class="valign sfy_plist_innr">
					<div class="sfy_plist_art">
						<img src="{{t_thumbnail}}" id="sfy_song_thmb" data-adaptive-background="1">
						<ul class="valign ss_stats list-unstyled mb-0">
							<li><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" d="M13.12 2.06L7.58 7.6c-.37.37-.58.88-.58 1.41V19c0 1.1.9 2 2 2h9c.8 0 1.52-.48 1.84-1.21l3.26-7.61C23.94 10.2 22.49 8 20.34 8h-5.65l.95-4.58c.1-.5-.05-1.01-.41-1.37-.59-.58-1.53-.58-2.11.01zM3 21c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2s-2 .9-2 2v8c0 1.1.9 2 2 2z"></path></svg> <span id="track_likes_count" data-count="{{COUNT_LIKES}}">{{COUNT_LIKES}}</span></li>
							<li><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" d="M10.88 21.94l5.53-5.54c.37-.37.58-.88.58-1.41V5c0-1.1-.9-2-2-2H6c-.8 0-1.52.48-1.83 1.21L.91 11.82C.06 13.8 1.51 16 3.66 16h5.65l-.95 4.58c-.1.5.05 1.01.41 1.37.59.58 1.53.58 2.11-.01zM21 3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2s2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></svg> <span id="track_dislikes_count" data-count="{{COUNT_DISLIKES}}">{{COUNT_DISLIKES}}</span></li>
							<li class="ss_track_info_innr_share_ico"><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" d="M10 3v2H5v14h14v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h6zm7.707 4.707L12 13.414 10.586 12l5.707-5.707L13 3h8v8l-3.293-3.293z"></path></svg> {{t_shares}}</li>
							<li><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" d="M13.35 20.13c-.76.69-1.93.69-2.69-.01l-.11-.1C5.3 15.27 1.87 12.16 2 8.28c.06-1.7.93-3.33 2.34-4.29 2.64-1.8 5.9-.96 7.66 1.1 1.76-2.06 5.02-2.91 7.66-1.1 1.41.96 2.28 2.59 2.34 4.29.14 3.88-3.3 6.99-8.55 11.76l-.1.09z"></path></svg> {{fav_count}}</li>
							<?php if( $music->config->artist_sell == 'on' && $music->songData->price > 0){ ?>
								<li><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2a6 6 0 0 1 6 6v1h4v2h-1.167l-.757 9.083a1 1 0 0 1-.996.917H4.92a1 1 0 0 1-.996-.917L3.166 11H2V9h4V8a6 6 0 0 1 6-6zm1 11h-2v4h2v-4zm-4 0H7v4h2v-4zm8 0h-2v4h2v-4zm-5-9a4 4 0 0 0-3.995 3.8L8 8v1h8V8a4 4 0 0 0-3.8-3.995L12 4z"></path></svg> {{purchase_count}}</li>
							<?php } ?>
						</ul>
					</div>
					<div class="sfy_plist_info">
						<input type="hidden" id="audio_ad_id" value="<?php echo($music->audio_ad_id) ?>">
						<div class="ds_review_headlines"><?php
												if ( getReviewsCount($music->songData->id) > 0 ){
													echo '<a href="{{LINK track-reviews/{{t_audio_id}}}}" data-load="track-reviews/{{t_audio_id}}">';
													for($i = 1; $i <= (int)$music->rate_avg ; $i++){
														echo '';
													}
													echo $music->total_review . ' ' . lang('Reviews');
													echo '</a>';
												}
											?><?php echo getTrackReviewButton(['user_id' => $music->user->id,'track_id' => $data['t_id']]); ?></div>
						<span class="al_artist dropdown">
							<a href="javascript:void(0);" data-display="static" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{USER name_v}}</a>
							<ul class="dropdown-menu">
								<div class="sfy_song_pblshr">
									<div class="avatar">
										<a href="{{USER url}}" data-load="{{USER username}}"><img src="{{USER avatar}}" alt="User Avatar"></a>
									</div>
									<h4><a href="{{USER url}}" data-load="{{USER username}}">{{USER name_v}}</a> <?php if ($music->config->go_pro == 'on') { ?><?php if ($music->songData->publisher->is_pro == 1) { ?><span title="{{LANG PRO Memeber}}">PRO</span><?php } ?><?php } ?></h4>
									<p>{{COUNT_USER_FOLLOWERS}} {{LANG Followers}}</p>
									<p>{{COUNT_USER_SONGS}} {{LANG Tracks}}</p>
									<?php if ($music->songData->owner == false && IS_LOGGED) {?>
									<?php if (!isFollowing($music->songData->publisher->id)) { ?>
										<button class="btn btn-primary btn-mat btn-mat-raised" id="follow-user" data-user-id="{{USER id}}">{{LANG Follow}}</button>
									<?php } else { ?>
										<button class="btn btn-success btn-mat btn-mat-raised" id="unfollow-user" data-user-id="{{USER id}}">{{LANG Following}}</button>
									<?php } ?>
									<?php } ?>
								</div>
							</ul>
						</span>
						<span>â€¢</span>
						<span class="al_artist">{{LANG Published}} <span class="ajax-time" title="{{ts_time}}">{{t_time}}</span> {{LANG in}} <a href="{{LINK explore-genres/<?php echo $music->songData->category_id;?>}}" data-load="explore-genres/<?php echo $music->songData->category_id;?>">{{category_name}}</a><?php if (!empty($music->albumData)) { ?>, {{LANG in album:}} <a href="{{LINK album/<?php echo $music->albumData->album_id;?>}}" data-load="album/<?php echo $music->albumData->album_id;?>"><?php echo $music->albumData->title;?></a><?php } ?></span>
						
						<?php if (!empty($music->songData->tagged_artists)) { ?>
							<hr>
							<p>{{LANG Tagged Artists}}</p>
							<?php foreach ($music->songData->tagged_artists as $key => $value) { ?>
								<div class="ds_song_tagged">
									<a class="ss_short_info" href="<?php echo($value->url) ?>" data-load="<?php echo($value->username) ?>"><?php echo($value->name) ?></a>
								</div>
							<?php } ?>
						<?php } ?>
						
						<h2 class="al_name">{{t_title}}</h2>
						<?php if (!empty($music->songData->itunes_token_url)) { ?>
							<div class="ds_buy_stores_btn">
								<a href="<?php echo($music->songData->itunes_token_url) ?>" target="_blank" title="Buy in iTunes">
									<img src="{{CONFIG theme_url}}/img/iTunes.png"/>
								</a>
							</div>
						<?php } ?>
						<?php if (!empty($music->songData->deezer_url)) { ?>
							<div class="ds_buy_stores_btn">
								<a href="<?php echo($music->songData->deezer_url) ?>" target="_blank" title="{{LANG Listen in Deezer}}">
									<img src="{{CONFIG theme_url}}/img/deezer.png"/>
								</a>
							</div>
						<?php } ?>
						<?php if (!empty($music->songData->youtube_url)) { ?>
							<div class="ds_buy_stores_btn">
								<a href="<?php echo($music->songData->youtube_url) ?>" target="_blank" title="{{LANG Listen in Youtube}}">
									<img src="{{CONFIG theme_url}}/img/youtube.png"/>
								</a>
							</div>
						<?php } ?>
						<p class="sfy_song_desc">{{t_description}}</p>
						<div class="sfy_song_tags">
							<?php foreach ($music->songData->tagsFiltered as $key => $tag) { ?>
								<a href="{{LINK search/songs/}}<?php echo $tag?>" data-load='search/songs/<?php echo $tag?>'>#<?php echo $tag?></a>
							<?php } ?>
						</div>
						<div class="ss_actions sfy_song_actns">
							<div class="valign ss_actions_innr">
								<?php echo getLikeButton($music->songData->id, 'like-default'); ?>
								<?php echo getDisLikeButton($music->songData->id, 'dislike-default'); ?>
								<?php if (IS_LOGGED) { ?>
									<button class="ss_action_item" onclick="rePost('{{t_id}}', $(this));"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M4 19h16v-5h2v6a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-6h2v5zm8-9H9a5.992 5.992 0 0 0-4.854 2.473A8.003 8.003 0 0 1 12 6V2l8 6-8 6v-4z"></path></svg> {{LANG Re Post}}</button>
								<?php } ?>
								<button class="ss_action_item" onclick="getShareModal('{{t_id}}', $(this));"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M10 3v2H5v14h14v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h6zm7.707 4.707L12 13.414 10.586 12l5.707-5.707L13 3h8v8l-3.293-3.293z"></path></svg> {{LANG Share}}</button>
								<?php if (!empty($music->songData->publisher) && !empty($music->songData->publisher->paypal_email)) { ?>
									<button class="ss_action_item" onclick="location.href = 'https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business={{USER paypal_email}}&lc=US&item_name=Donation+to+{{USER name}}&no_note=0&cn=&currency_code=USD&bn=PP-DonationsBF:btn_donateCC_LG.gif:NonHosted'"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><g><path fill="currentColor" d="M3,11L3,11c-1.1,0-2,0.9-2,2v7c0,1.1,0.9,2,2,2h0c1.1,0,2-0.9,2-2v-7C5,11.9,4.1,11,3,11z"/><path fill="currentColor" d="M10,5.3C10,3.45,11.45,2,13.3,2c1.04,0,2.05,0.49,2.7,1.25C16.65,2.49,17.66,2,18.7,2C20.55,2,22,3.45,22,5.3 c0,2.1-2.5,4.51-5.33,7.09c-0.38,0.35-0.97,0.35-1.35,0C12.5,9.81,10,7.4,10,5.3"/><path fill="currentColor" d="M19.99,17h-6.83c-0.11,0-0.22-0.02-0.33-0.06l-1.47-0.51c-0.26-0.09-0.39-0.37-0.3-0.63l0,0c0.09-0.26,0.38-0.4,0.64-0.3 l1.12,0.43c0.11,0.04,0.24,0.07,0.36,0.07h2.63c0.65,0,1.18-0.53,1.18-1.18v0c0-0.49-0.31-0.93-0.77-1.11L9.3,11.13 C9.08,11.04,8.84,11,8.6,11H7v9.02l6.37,1.81c0.41,0.12,0.85,0.1,1.25-0.05L22,19l0,0C22,17.89,21.1,17,19.99,17z"/></g></svg> {{LANG Donate}}</button>
								<?php } ?>
								<?php if ($music->can_download == true && $music->songData->allow_downloads == 1) { ?>
									<a class="ss_action_item" href="{{LINK download.php?id={{t_audio_id}}}}" download><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 0 24 24" width="20"><path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"></path></svg> {{LANG Download}}</a>
								<?php } ?>
								<?php if($music->config->artist_sell == 'on'){ ?>
									<?php if ($music->isPurchased === false && $music->songData->owner === false && $music->songData->price > 0) { ?>
										<button class="ss_action_item btn-success" onclick="purchaseTrack('{{t_audio_id}}', $(this),'buy_song','{{t_price}}')" data-title="{{t_title}}" data-price="{{t_price}}" title="{{LANG Purchase}}"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M20,8H4V6H20M20,18H4V12H20M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z" /></svg> {{CONFIG currency_symbol}}{{t_price}}</button>
									<?php } else if ($music->songData->price > 0 && $music->can_download == false){ ?>
										<span>{{CONFIG currency_symbol}}{{t_price}}</span>
									<?php } ?>
								<?php } ?>
								<span class="dropdown">
									<div class="ss_action_item" data-display="static" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z" /></svg> {{LANG More}}</div>
									<ul class="dropdown-menu dropdown-menu-right">
										<li><a href="javascript:void(0)" onclick="getPlayLists({{t_id}})">{{LANG Add to Playlist}}</a></li>
										<?php if ($music->songData->owner == true || IsAdmin()) { ?>
											<li><a href="{{LINK edit-track/{{t_audio_id}}}}" data-load="edit-track/{{t_audio_id}}">{{LANG Edit Info}}</a></li>
											<?php if ($music->songData->owner == true && $music->songData->album_id == 0) { ?>
												<li><a href="javascript:void(0)" onclick="moveToAlbum(<?php echo $data['t_id'];?>)">{{LANG Move to album}}</a></li>
											<?php } ?>
											<li><a href="javascript:void(0)" onclick="$('#delete-song').attr('data-id', '{{t_id}}')" data-toggle="modal" data-target="#delete-song">{{LANG Delete Track}}</a></li>
										<?php } else if (IS_LOGGED == true) { ?>
											<li><?php echo getTrackReportButton(['user_id' => $music->user->id,'track_id' => $data['t_id']]); ?></li>
											<li><a href="javascript:void(0)" onclick="$('#song-copyright-id').val('{{t_id}}');"  data-toggle="modal" data-target="#create_copyright_box">{{LANG Report Copyright}}</a></li>
										<?php } ?>
										<?php if ($music->songData->owner == true || IsAdmin()) { ?>
											<li><a href="{{LINK track-statistics/{{t_audio_id}}/today}}" data-load="track-statistics/{{t_audio_id}}/today">{{LANG Statistics}}</a></li>
										<?php } ?>
									</ul>
								</span>
							</div>
						</div>
					</div>
				</div>
				<div class="valign sfy_song_btmprt">
					<?php if ($music->songData->converted == '0') { ?>
						<div class="track_process_bg">
							<svg width="135" height="140" viewBox="0 0 135 140" xmlns="http://www.w3.org/2000/svg" fill="currentColor"> <rect y="10" width="15" height="120" rx="6"> <animate attributeName="height" begin="0.5s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"></animate> <animate attributeName="y" begin="0.5s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"></animate> </rect> <rect x="30" y="10" width="15" height="120" rx="6"> <animate attributeName="height" begin="0.25s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"></animate> <animate attributeName="y" begin="0.25s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"></animate> </rect> <rect x="60" width="15" height="140" rx="6"> <animate attributeName="height" begin="0s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"></animate> <animate attributeName="y" begin="0s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"></animate> </rect> <rect x="90" y="10" width="15" height="120" rx="6"> <animate attributeName="height" begin="0.25s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"></animate> <animate attributeName="y" begin="0.25s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"></animate> </rect> <rect x="120" y="10" width="15" height="120" rx="6"> <animate attributeName="height" begin="0.5s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"></animate> <animate attributeName="y" begin="0.5s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"></animate> </rect> </svg>{{LANG track_process_wait}}
						</div>
					<?php } ?>
							
					<div class="ss_track_play_pause" data_is_ad="0">
						<div class="btn btn-primary btn-mat btn-mat-raised play_btn" onclick="<?php if (empty($music->songData->dark_wave) && empty($music->songData->light_wave)) { ?>wavesurfer.play();<?php } else { ?>playSong('{{t_audio_id}}','<?php echo($music->audio_ad_id) ?>');<?php } ?>"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path fill="currentColor" d="M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z"></path></svg></div>
						<div class="btn btn-primary btn-mat btn-mat-raised pause_btn ovrflw_visible" onclick="<?php if (empty($music->songData->dark_wave) && empty($music->songData->light_wave)) { ?>wavesurfer.pause();<?php } else { ?>Amplitude.pause();<?php } ?>$('body').removeClass('player_running');"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path fill="currentColor" d="M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z"></path></svg></div>
						<span>{{COUNT_VIEWS}}</span>
					</div>
					<div>
						<div id="waveform-load"></div>
						<?php
							$dark = $music->songData->dark_wave;
							$light = $music->songData->light_wave;
							$bar = '#363636';
							$opacity = '';

							if( $music->config->ffmpeg_system == 'off'){
								$dark = $music->songData->light_wave;
								$light = $music->songData->dark_wave;

								if($_COOKIE['mode'] == 'day'){
									$bar = 'rgb(191, 191, 191)';
									$opacity = 'opacity: 0.5;';
									if($music->songData->ffmpeg == 0){
										$dark = $music->songData->light_wave;
										$light = $music->songData->dark_wave;
									}else{
										$dark = $music->songData->dark_wave;
										$light = $music->songData->light_wave;
									}
								}else{
									$opacity = '';
									if($music->songData->ffmpeg == 0){
										$dark = $music->songData->light_wave;
										$light = $music->songData->dark_wave;
									}else{
										$dark = $music->songData->dark_wave;
										$light = $music->songData->light_wave;
									}
								}
							}else{
								$dark = $music->songData->dark_wave;
								$light = $music->songData->light_wave;

								if($_COOKIE['mode'] == 'day'){
									$dark = str_replace('_dark.png','_day.png',$music->songData->dark_wave);
									if(!file_exists( $dark ) && ($music->config->s3_upload != 'on' && $music->config->ftp_upload != "on" && $music->config->spaces !=  "on" && $music->config->google_drive !=  "on" && $music->config->wasabi_storage !=  'on' && $music->config->backblaze_storage !=  'on')){
										$dark = $music->songData->light_wave;
										$light = $music->songData->dark_wave;
									}
									$bar = 'rgb(191, 191, 191)';
								}else{
									$dark = str_replace('_day.png','_dark.png',$music->songData->dark_wave);

									if($music->songData->ffmpeg == 0){
										$dark = $music->songData->light_wave;
										$light = $music->songData->dark_wave;
									}else{
										$dark = $music->songData->dark_wave;
										$light = $music->songData->light_wave;
									}
								}
							}
						$rl = 'left: 0;border-left: inherit!important;border-right: 1px solid '.$bar.' !important;';
						if ( $music->language_type == 'rtl' ){
							$rl = 'right: 0;border-#delete-songright: inherit!important;border-left: 1px solid '.$bar.' !important;';
						}
						?>
						<div id="waveform" class="sfy_waveforms">
							<div class="images" id="dark-waves">
								<img src="<?php echo getMedia($dark); ?>" style="width: 100%;<?php echo $opacity;?>" id="dark-wave">
								<div style="width: 0%; z-index: 111; position: absolute; overflow: hidden; top: 0; <?php echo $rl;?> " id="light-wave">
									<img src="<?php echo getMedia($light); ?>">
								</div>
							</div>
							<div class="comment-waves">
								{{comments_on_wave}}
							</div>
						</div>
					</div>
				</div>
			</div>
		<?php } ?>
		
		<div class="single_song">
			<input type="hidden" id="current-track" value="{{t_audio_id}}">
			<div class="container-fluid">
				<?php if( $music->songData->src == 'radio' ) {?>
					<div class="row">
						<div class="col-lg-8">
							<div class="ss_related ssong_comments ssong_comments_main">
								<div class="s_widget_head">{{comment_count}} {{LANG comments}}</div>
								<div class="write_comment">
									<?php if (IS_LOGGED) { ?>
										<img src="{{ME avatar}}" alt="" class="u_avatar">
									<?php } else {?>
										<img src="<?php echo getMedia($music->user_default_avatar)?>" alt="" class="u_avatar">
									<?php } ?>
									<textarea title="{{LANG Write a comment and press enter}}" data-audio-id="{{t_audio_id}}" placeholder="{{LANG Write a comment and press enter}}" value="" class="comment_input" ></textarea>
								</div>
								<ul class="list-unstyled mb-0 comment_list comment-list-{{t_audio_id}}" >
									{{comment_list}}
								</ul>
							</div>
							<?php if($music->comment_count > 0){?>
								<div class="text-center see_all">
									<a href="javascript:void(0); loadMore('comments', 'comments');" id="load-more-button"><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"></path></svg></span> {{LANG Load More}}</a>
								</div>
							<?php } ?>
						</div>
						<div class="col-lg-4">
							<?php if($data['recentPlays'] !== ''){?>
							<div class="sidebar_widget">
								<div class="s_widget_head">{{LANG Recently Listened by}}</div>
								<div class="valign sfy_song_recntPlay">
									{{recentPlays}}
								</div>
							</div>
							<?php }?>
							{{ads}}
							<div class="ss_related feed_sidebar_song">
								<div class="s_widget_head">{{LANG More Tracks}}</div>
								{{related_tracks}}
							</div>
							<?php echo GetAd('side_bar');?>
						</div>
					</div>
				<?php } else { ?>
					<div class="row">
						<?php if(!empty($music->songData->lyrics)){?>
							<div class="col-lg-3">
								<div class="ss_related song_lyrics">
									<div class="s_widget_head">{{LANG Lyrics}}</div>
									<p id="rmjs-1"><?php echo $music->songData->lyrics;?></p>
								</div>
							</div>
						<?php } ?>
						<div class="<?php if(!empty($music->songData->lyrics)){?>col-lg-6<?php } else {?>col-lg-8<?php } ?>">
							<div class="ss_related ssong_comments ssong_comments_main">
								<div class="s_widget_head">{{comment_count}} {{LANG comments}}</div>
								<div class="write_comment">
									<?php if (IS_LOGGED) { ?>
										<img src="{{ME avatar}}" alt="" class="u_avatar">
									<?php } else {?>
										<img src="<?php echo getMedia($music->user_default_avatar)?>" alt="" class="u_avatar">
									<?php } ?>
									<textarea title="{{LANG Write a comment and press enter}}" data-audio-id="{{t_audio_id}}" placeholder="{{LANG Write a comment and press enter}}" value="" class="comment_input" ></textarea>
								</div>
								<ul class="list-unstyled mb-0 comment_list comment-list-{{t_audio_id}}" >
									{{comment_list}}
								</ul>
							</div>
							<?php if($music->comment_count > 0){?>
								<div class="text-center see_all">
									<a href="javascript:void(0); loadMore('comments', 'comments');" id="load-more-button"><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"></path></svg></span> {{LANG Load More}}</a>
								</div>
							<?php } ?>
						</div>
						<div class="<?php if(!empty($music->songData->lyrics)){?>col-lg-3<?php } else {?>col-lg-4<?php } ?>">
							<?php if($data['recentPlays'] !== ''){?>
							<div class="sidebar_widget">
								<div class="s_widget_head">{{LANG Recently Listened by}}</div>
								<div class="valign sfy_song_recntPlay">
									{{recentPlays}}
								</div>
							</div>
							<?php }?>
							{{ads}}
							<div class="ss_related feed_sidebar_song">
								<div class="s_widget_head">{{LANG More Tracks}}</div>
								{{related_tracks}}
							</div>
							<?php echo GetAd('side_bar');?>
						</div>
					</div>
				<?php } ?>
			</div>
		</div>
	</div>
</div>
<img src="" alt="" id="de-image">

<script src="{{theme_url}}/js/jquery.adaptive-backgrounds.js"></script>
<script>
$(document).ready(function(){
	var defaults = {
		selector: '[data-adaptive-background="1"]',
		parent: '#sfy_hdr_rgb',
	};
	$.adaptiveBackground.run(defaults)
});
<?php if( $music->songData->src == 'radio' ) {?>
    jQuery(document).ready(function($) {
		playSong($('#current-track').val());
		$('.spectrograph_prnt').removeClass('hide');
    });
<?php } else { ?>

    jQuery(document).ready(function($) {
    <?php if ($music->autoPlay == true) { ?>
            playSong($('#current-track').val());
        <?php } ?>
        $('#light-wave img').width($('#dark-wave').width() + 'px');
    });

	<?php if (empty($music->songData->dark_wave) && empty($music->songData->light_wave)) { ?>
	var wavesurfer = WaveSurfer.create({
		container: '#waveform',
		waveColor: '<?php echo $music->config->waves_color;?>',
		progressColor: '#bfbfbf',
		height: 150,
		scrollParent: false,
		responsive: true,
	});

	wavesurfer.on('loading', function (integer) {
		$('#waveform-load').html("{{LANG Generating waves..}} (" + integer + '%)');
	});

	wavesurfer.on('ready', function (percents) {
		$('body').addClass('waveform_ready');
		wavesurfer.setVolume(0);
		setTimeout(function () {
			$.post('{{CONFIG ajax_url}}/convert-waves', {darkImage: wavesurfer.exportImage(), LightImage: convertCanvasToImage(), id: "{{t_audio_id}}"}, function (data) {
				if (data.status == 200) {
					location.reload();
				}
			});
		}, 300);
		$('#waveform-load').empty();
	});
	wavesurfer.on('play', function (percents) {
		$('body').addClass('waveform_ready');
		$('body').addClass('player_running');
		setTimeout(function () {
			convertCanvasToImage
		} , 5000);

		Amplitude.play();
	});
	wavesurfer.on('pause', function (percents) {
		$('body').removeClass('player_running');
		Amplitude.pause()
	});

	wavesurfer.on('seek', function (seeks) {
		Amplitude.skipTo( wavesurfer.getCurrentTime(), 0 )
		wavesurfer.setVolume(0);
	});
	wavesurfer.load('{{t_song}}');
	<?php } ?>

<?php } ?>

function convertCanvasToImage() {
	var can = $('canvas').get(0);
	return can.toDataURL();
}
function Get_Mention(self) {
	$(self).triggeredAutocomplete({
		source: ajaxUrl() + "/mention",
		trigger: "@"
	});
}
</script>

<script>
	if( typeof $('#rmjs-1').readmore !== "undefined" ) {
        $('#rmjs-1').readmore({
            speed: 75,
            collapsedHeight: 190,
            moreLink: '<a href="#" class="hash">{{LANG Read more}}</a>',
            lessLink: '<a href="#" class="hash">{{LANG Read less}}</a>',
            afterToggle: function (trigger, element, expanded) {
                //if(! expanded) {
                // The "Close" link was clicked
                $('html, body').animate({scrollTop: element.offset().top}, {duration: 100});
                //}
            }
        });
    }
</script>