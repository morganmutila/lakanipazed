<div class="ma_player <?php if (empty($_SESSION['songs'])) { ?>closed<?php } ?>">
	<div class="valign player">
		<div class="player-video-preview" id="my_video_player_container">
			<div class="y_player_cover"></div>
			<div class="plyr__video-embed" id="my_video_player_">
			  <iframe
			    src=""
			    allowfullscreen
			    allowtransparency
			    allow="autoplay"
			  ></iframe>
			</div>
		</div>
		
		<div class="song_prog_mobi">
			<div class="progress_container">
				<input type="range" class="amplitude-song-slider" amplitude-main-song-slider="true"/>
				<progress id="song-played-progress" class="audio-progress audio-progress--played amplitude-song-played-progress" amplitude-main-song-played-progress="true"></progress>
				<progress id="song-buffered-progress" class="audio-progress audio-progress--buffered amplitude-buffered-progress" value="0"></progress>
			</div>
		</div>
		<div class="song_details">
			<div class="song_details_inner">
				<div class="song_art">
					<a href="#" class="player-song-url" data-load=""><img amplitude-song-info="cover_art_url" amplitude-main-song-info="true"/></a>
				</div>
				<div class="song_title">
					<a href="#" class="player-song-url" data-load=""><h3 amplitude-song-info="name" amplitude-main-song-info="true" class="song_name"></h3></a>
				</div>
				<div class="song_fav" id="song-fav-button"></div>
				<div class="song_time">
					<span class="current_time">
						<span class="amplitude-current-hours" amplitude-main-current-hours="true"></span>:<span class="amplitude-current-minutes" amplitude-main-current-minutes="true"></span>:<span class="amplitude-current-seconds" amplitude-main-current-seconds="true"></span>
					</span>
					<span class="duration_seperate">/</span>
					<span class="duration_time">
						<span class="amplitude-duration-hours" amplitude-main-duration-hours="true"></span>:<span class="amplitude-duration-minutes" amplitude-main-duration-minutes="true"></span>:<span class="amplitude-duration-seconds" amplitude-main-duration-seconds="true"></span>
					</span>
				</div>
			</div>
		</div>
		<div class="valign song_progress">
			<div class="valign song_controls">
				<div class="amplitude-shuffle amplitude-shuffle-off" id="shuffle" title="{{LANG Shuffle}}">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="21" height="21"><path fill="currentColor" d="M18 17.883V16l5 3-5 3v-2.09a9 9 0 0 1-6.997-5.365L11 14.54l-.003.006A9 9 0 0 1 2.725 20H2v-2h.725a7 7 0 0 0 6.434-4.243L9.912 12l-.753-1.757A7 7 0 0 0 2.725 6H2V4h.725a9 9 0 0 1 8.272 5.455L11 9.46l.003-.006A9 9 0 0 1 18 4.09V2l5 3-5 3V6.117a7 7 0 0 0-5.159 4.126L12.088 12l.753 1.757A7 7 0 0 0 18 17.883z"/></svg>
				</div>
				<div class="amplitude-prev" id="previous">
					<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1zm3.66 6.82l5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z" /></svg>
				</div>
				<div class="btn-mat amplitude-play-pause" amplitude-main-play-pause="true" id="play-pause"></div>
				<div class="amplitude-next" id="next">
					<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z" /></svg>
				</div>
				<div class="amplitude-repeat amplitude-repeat-on" id="repeat" title="{{LANG Repeat}}">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="21" height="21"><path fill="currentColor" d="M8 20v1.932a.5.5 0 0 1-.82.385l-4.12-3.433A.5.5 0 0 1 3.382 18H18a2 2 0 0 0 2-2V8h2v8a4 4 0 0 1-4 4H8zm8-16V2.068a.5.5 0 0 1 .82-.385l4.12 3.433a.5.5 0 0 1-.321.884H6a2 2 0 0 0-2 2v8H2V8a4 4 0 0 1 4-4h10z"/></svg>
				</div>
			</div>
		</div>
		<div class="valign song_progress_right">
			<div class="valign volume_controls">
				<div class="amplitude-mute amplitude-not-muted"></div>
				<div class="plyr_vol_mobi">
					<input type="range" class="amplitude-volume-slider"/>
					<div class="ms-range-fix"></div>
				</div>
			</div>
			<div class="dropup song_queue">
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" data-display="static" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><path fill="currentColor" d="M5 10h10c.55 0 1 .45 1 1s-.45 1-1 1H5c-.55 0-1-.45-1-1s.45-1 1-1zm0-4h10c.55 0 1 .45 1 1s-.45 1-1 1H5c-.55 0-1-.45-1-1s.45-1 1-1zm0 8h6c.55 0 1 .45 1 1s-.45 1-1 1H5c-.55 0-1-.45-1-1s.45-1 1-1zm9 .88v4.23c0 .39.42.63.76.43l3.53-2.12c.32-.19.32-.66 0-.86l-3.53-2.12c-.34-.19-.76.05-.76.44z"/></svg>
				<ul class="dropdown-menu dropdown-menu-right ma_player_playlist">
					<div class="valign queue_head">
						<h4>{{LANG Queue}}</h4>
						<span onclick="clearQueues();">{{LANG Clear}}</span>
					</div>
					<div class="queue_list" id="queue-list">
						<?php 
						if (!empty($_SESSION['songs'])) { 
						  $songs = json_decode(html_entity_decode($_SESSION['songs']));
						  if (is_array($songs)) {
							 foreach($songs as $key => $song) {
								?>
								<div class="song amplitude-song-container amplitude-play-pause" id="queue-<?php echo $song->id?>" onclick="playSong('<?php echo $song->id?>')" amplitude-song-index="<?php echo $key?>"><div class="song_icon_container"><img class="now-playing" src="<?php echo $song->cover_art_url?>"/></div><span class="song_duration"><?php echo $song->duration?></span><div class="song_meta_data"><span class="song_title"><?php echo $song->name?></span><span class="song_artist"><?php echo $song->artist?></span></div></div>
								<?php
							 }
						  }
						?>
						<?php } ?>
					</div>
				</ul>
			</div>
			<button class="btn" onclick="$('body').toggleClass('expand_plr');"><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 24 24"><path fill="currentColor" d="M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z"/><path fill="currentColor" d="M19.5,3.09L15,7.59V4H13V11H20V9H16.41L20.91,4.5L19.5,3.09M4,13V15H7.59L3.09,19.5L4.5,20.91L9,16.41V20H11V13H4Z" class="active_path" /></svg></button>
		</div>
	</div>
</div>

<script>
for(let i = 0, element; element = document.querySelectorAll('.amplitude-volume-slider')[i++];) {
    rangeSlider.create(element, {
        polyfill: true
    });
}
</script>